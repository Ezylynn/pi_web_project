<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leaderboard</title>
    
    <link rel="stylesheet" href="/css/mainAdmin.css">
    <link rel="stylesheet" href="/css/footer.css">
    <link rel="stylesheet" href="/css/leaderbord.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
</head>
<body>
    <header class="header">

        <nav class="nav_bar">
            <ul class="menu">
                <li class="home">
                
                    <a href="/api/v1/<%= userRole %>/home">
                        <p class="underline-text-small">Home</p>
                    </a>
                    <ul class="sub-menu">
                        <li>
                            <a href="/api/v1/<%= userRole %>/home#celebrate-pi-day">
                                <p class="underline-text-small">Celebrate Pi Day</p>
                            </a> 
                        </li>
                        <li>
                            <a href="/api/v1/<%= userRole %>/home#what-is-pi">
                                <p class="underline-text-small">What is <span class="pi">&pi;</span></p>
                            </a>
                        </li>
                            <a class="bottom_li" href="https://www.piday.org/">
                                <p class="underline-text-small">More About Pi Day</p>
                            </a>
                        </li>

                    </ul>
                </li>
                <% if (userRole === "student"){ %>
                    <li>
                        <a href="/api/v1/student/instruction">
                            <p class="underline-text-small">Quiz</p>
                        </a>
                    </li>
                <% }else if (userRole === "teacher"){ %>
                    <li>
                        <a href="/api/v1/teacher/leaderboard">
                            <p class="underline-text-small">Leaderboard</p>
                        </a>
                    </li>
                <% } %>
                <li class = "account" id = "account">
                    <a href="/api/v1/sign-in" class = "account-link" id = "account-link"><span class="material-symbols-outlined account-logo underline-text-small" id = "account-logo">account_circle</span></a>
                    <ul class = "account-menu" id = "account-menu">
                        <li>
                            <% if (user){ %>
                                <a id = "log-out" class = "underline-text-small">Log Out</a>
                                <input type="hidden" class = "user-role" value = <%= userRole %>>
                               
                            <% }else{ %>
                                <a href="/api/v1/sign-in" class = "underline-text-small">Sign In</a>
                                
                            <% } %>


                        </li>
                        <li><a href="/api/v1/register" class = "underline-text-small">Register</a></li>
                    </ul>
                </li>

            </ul>

        </nav>

       

       

    </header>

    <main  class="bg layer">
    

       

        <section class="container">
            <section class="table_header">
                <p class="title_1">Student leaderboard</p>
            </section>

            <section class = "table-section">
                <table>

                    <thead>
                        <th>No.</th>
                        <th>Name</th>
                        <th>Class</th>
                        <th>No. of Pi correct</th>
                        <th>Attempted At</th>
                        
                    </thead>

                    <% for (let i = 0; i < studentRank.length; i++){ %>

                        <tr>
                            <td><%=i+1%></td>
                            <td><%=studentRank[i].full_name%></td>
                            <td><%=studentRank[i].grade%></td>
                            <td><%=studentRank[i].score%></td>
                            <td><%= studentRank[i].attempted_at %></td>
                            <td><a href="/api/v1/teacher/info/<%= studentRank[i].student_id %>">More</a></td>
                        </tr>
                    
                    <% } %>

                    
        
                    
                </table>

            </section>


        </section>
    </main>



        <footer class="footer">

            <p>Made by BVIS students</p>

        </footer>
   
    <script type = "module" src = "/js/leaderboard.js"></script>
    <script type = "module" src = "/js/logOut.js"></script>

</body>
</html>